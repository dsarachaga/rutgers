weather <- "https://www.wunderground.com/history/daily/us/nj/
somerville/KSMQ/date/2019-3-4"  %>% read_html() %>% html_table() %>% .[[3]]
library(tidyverse)
library(rvest)
library(lubridate)
library(stringr)
cleaner <- function(x){
str_replace_all(x, " \\([0-9]+\\)|(\n)", "")
}
cleaner <- function(x){
str_replace_all(x, "(^[ \t]+|[ \t]+$)|(\n)", "")
}
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>% read_html() %>% html_table() %>% .[[3]]
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>% read_html()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_nodes("table")
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_nodes("table")
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_nodes("head")
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_nodes()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_table()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_table()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html() %>%
html_table()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
html_nodes("Daily Observations")
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html("Daily Observations")
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html("Daily Observations")
weather
html_nodes()
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"  %>%
read_html("Daily Observations")
weather
head(weather)
weather
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"
weather
browseURL(weather)
weather %>%
read_html()
weather %>%
read_html() %>%
html_nodes("observation-title")
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html() %>% html_table() %>% .[[3]]
alpine
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html() %>% html_table()
alpine
weather %>%
read_html() %>%
html_table()
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html()
alpine
weather %>%
read_html()
weather %>%
read_html() %>%
html_table()
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html()
%>% html_table()
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html()
%>% html_table()
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html() %>%
html_table()
alpine
weather %>%
read_html() %>%
html_table()
weather %>%
read_html()
weather %>%
read_html()%>%
html_nodes("table") %>%
html_table(fill = TRUE)
weather %>%
read_html() %>%
html_nodes(".observation-title")
weather %>%
html_nodes(".observation-title") %>%
read_html()
weather %>%
read_html() %>%
html_nodes(".observation-title")
weather %>%
read_html() %>%
html_nodes(".observation-title") %>%
html_text()
weather %>%
read_html() %>%
html_node(".observation-title") %>%
html_text()
weather %>%
read_html() %>%
html_nodes("observation-title") %>%
html_text()
weather %>%
read_html() %>%
html_nodes(".observation-title") %>%
html_table()
weather %>%
read_html() %>%
html_table()  %>%
html_nodes(".observation-title")
weather %>%
read_html() %>%
html_nodes(".observation-title") %>%
html_text()
tbls <- html_nodes(weather, "table")
tbls <- weather %>%
read_html() %>%
html_nodes(weather, "table")
weather %>%
read_html()
w = weather %>%
read_html()
tbls <- html_nodes(w, "table")
tbls
tbls <- html_nodes(w, "table") %>% .[[3]]
alpine <- "https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html() %>%
html_table()
alpine
"https://en.wikipedia.org/wiki/List_of_FIS_Alpine_Ski_World_Cup_women%27s_champions"  %>% read_html() %>%
html_table() %>% .[[3]]
weather <- "https://weather.com/weather/hourbyhour/l/USNJ0524:1:US"
weather %>%
read_html()
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"
weather %>%
read_html() %>% html_table(fill = TRUE)
weather %>%
read_html()
weather %>%
read_html() %>%
html_nodes("title")
weather %>%
read_html() %>%
html_nodes(".observation-title")
weather %>%
read_html() %>%
html_table(".observation-title")
weather <- "https://www.wunderground.com/history/daily/us/nj/somerville/KSMQ/date/2019-3-4"
forecast <- weather %>%
read_html() %>%
html_table(fill = TRUE)
forecast
forecast <- weather %>%
read_html()
forecast <- weather %>%
read_html() %>%
html_table(fill = TRUE)
weather %>%
read_html()
weather <- "https://weather.com/weather/hourbyhour/l/USNJ0524:1:US"
forecast <- weather %>%
read_html() %>%
html_table(fill = TRUE)
forecast
forecast
length(forecast)
class(forecast)
length(forecast)
class(forecast)
class(forecast[1])
class(forecast[[1]])
forecast.[[1]]
forecast[[1]]
length(forecast[[1]])
forecast[[2]]
forecast[[0]]
forecast[[1]]
forecast
weather.df <- forecast[[1]]
weather.df$Time
browseURL(weather)
weather.df$Description
weather <- "https://weather.com/weather/hourbyhour/l/USNJ0524:1:US"
forecast <- weather %>%
read_html() %>%
html_table(fill = TRUE)
length(forecast)
class(forecast)
class(forecast[[1]])
weather.df <- forecast[[1]]
# The column names are misplaced
weather.df$Time
weather.df
spotify.df <- "https://spotifycharts.com/regional" %>%
read_html() %>%
html_table() %>%
.[[1]]
spotify.df
names(spotify.df)[1] <- "rank"
spotify.df
spotify.df <- spotify.df %>% separate(Track, c("Song", "Artist"), sep = "by") %>% map_df(cleaner)
spotify.df <- spotify.df %>% separate(Track, c("Song", "Artist"), sep = "by") %>% map_df(cleaner)
names(spotify.df)[1] <- "rank"
spotify.df <- spotify.df %>% separate(Track, c("Song", "Artist"), sep = "by") %>% map_df(cleaner)
spotify.df %>% separate(Track, c("Song", "Artist"), sep = "by") %>% map_df(cleaner)
spotify.df %>% separate(Track, c("Song", "Artist"), sep = "by")
weather.df
# The column names are misplaced
weather.df %>%
rename(Time = Description)
# The column names are misplaced
weather.df %>%
rename(Time = Description)
weather.df %>% [1:]
weather.df[1:]
weather.df[1,]
weather.df[1:,]
weather.df[1:]
weather.df[1;]
weather.df[1]
weather.df[2:]
weather.df[,2:]
weather.df[,2]
weather.df[,-1]
weather.df
weather.df[,-1]
weather.df %>%
rename(Time = Description)
weather.df %>%
mutate(Time = Description)
weather.df
weather.df %>%
mutate(Wind_ = NA)
weather.df %>%
rename(`Time` = `Description`)
weather.df %>%
rename(newCol = `NA`)
weather.df
# Drop the first column
weather.df <- weather.df[,-1]
weather.df %>%
rename(newCol = `NA`)
weather.df
weather.df %>%
rename(newCol = `NA`)
weather.df$NA
weather.df$`NA`
weather.df$'NA'
weather.df
length(weather.df)
weather.df[7]
weather.df %>%
rename(newCol = weather.df[7]
)
weather.df %>%
rename(newCol = weather.df[7])
